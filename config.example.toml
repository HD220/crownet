# Arquivo de Exemplo de Configuração TOML para CrowNet

# Esta seção corresponde à struct config.CLIConfig em Go.
# Os nomes das chaves aqui são geralmente snake_case e serão mapeados
# para os campos CamelCase na struct Go (ou conforme tags `toml:"..."`).
[cli]
# mode = "sim" # O modo é agora determinado pelo subcomando CLI (ex: ./crownet sim)
total_neurons = 250
seed = 123456789
weights_file = "custom_weights_from_toml.json"
base_learning_rate = 0.015

# Parâmetros específicos do modo 'sim' (usados se o comando 'sim' for executado)
cycles = 1500
db_path = "toml_simulation_log.db"
save_interval = 50
stim_input_id = 0
stim_input_freq_hz = 2.5
monitor_output_id = 0
debug_chem = true

# Parâmetros específicos do modo 'expose' (usados se o comando 'expose' for executado)
epochs = 60
cycles_per_pattern = 25

# Parâmetros específicos do modo 'observe' (usados se o comando 'observe' for executado)
digit = 7
cycles_to_settle = 60

# Nota: Parâmetros de logutil não são configurados via TOML, mas via flags diretas
# do subcomando 'crownet logutil export'.


# Esta seção corresponde à struct config.SimulationParameters em Go.
# Ela é aninhada para refletir as sub-structs (GeneralParams, NeuronBehaviorParams, etc.).
[sim_params]

  [sim_params.general]
  space_max_dimension = 12.0
  cycles_per_second = 100.0
  pulse_propagation_speed = 1.2

  [sim_params.neuron_behavior]
  base_firing_threshold = 0.8
  accumulated_pulse_decay_rate = 0.12
  absolute_refractory_cycles = 3
  relative_refractory_cycles = 4

  [sim_params.distribution]
  dopaminergic_percent = 0.15
  inhibitory_percent = 0.25
  excitatory_radius_factor = 1.0
  dopaminergic_radius_factor = 0.8
  inhibitory_radius_factor = 0.9

  [sim_params.structure]
  min_input_neurons = 35
  min_output_neurons = 10
  output_frequency_window_cycles = 60.0

  [sim_params.pattern]
  pattern_height = 7
  pattern_width = 5
  pattern_size = 35 # Deve ser igual a PatternHeight * PatternWidth

  [sim_params.learning]
  initial_synaptic_weight_min = 0.05
  initial_synaptic_weight_max = 0.55
  max_synaptic_weight = 1.0
  hebbian_weight_min = -0.05
  hebbian_weight_max = 0.95
  synaptic_weight_decay_rate = 0.0002
  hebbian_coincidence_window = 3
  hebb_positive_reinforce_factor = 0.12
  hebb_negative_reinforce_factor = 0.06 # Usado se a lógica LTD for expandida
  min_learning_rate_factor = 0.05

  [sim_params.synaptogenesis]
  synaptogenesis_influence_radius = 2.2
  attraction_force_factor = 0.012
  repulsion_force_factor = 0.006
  dampening_factor = 0.45
  max_movement_per_cycle = 0.12

  [sim_params.neurochemical]
  cortisol_production_rate = 0.011
  cortisol_decay_rate = 0.006
  cortisol_production_per_hit = 0.06
  cortisol_max_level = 1.0
  # A sintaxe TOML para arrays (como CortisolGlandPosition) é:
  # cortisol_gland_position = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
  # Se omitido, usará o padrão definido em config.DefaultSimulationParameters().
  # Para este exemplo, vamos omitir para usar o padrão.

  dopamine_production_rate = 0.022
  dopamine_decay_rate = 0.011
  dopamine_production_per_event = 0.11
  dopamine_max_level = 1.0

  cortisol_influence_on_lr = -0.6
  dopamine_influence_on_lr = 0.9
  cortisol_influence_on_synapto = -0.35
  dopamine_influence_on_synapto = 0.55
  firing_threshold_increase_on_dopa = -0.25
  firing_threshold_increase_on_cort = 0.35
